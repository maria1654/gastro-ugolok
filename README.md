# Гастро-уголок

Добро пожаловать в **Гастро-уголок** — веб-сайт, посвященный рецептам из различных фильмов, мультфильмов и аниме! Здесь вы найдете пошаговые инструкции по приготовлению блюд, которые вы видели на экране, и сможете окунуться в мир кулинарных приключений вместе с вашими любимыми персонажами.

## О проекте

**Гастро-уголок** — это веб-приложение, разработанное с использованием **FastAPI** для бэкенда и **Jinja2** для рендеринга HTML-шаблонов. Проект позволяет пользователям:

- Просматривать каталог рецептов из разных фильмов, мультфильмов и аниме.
- Регистрироваться и входить в систему для сохранения избранных рецептов.
- Получать случайный рецепт для вдохновения.
- Делиться отзывами и комментариями.

## Функциональность

- **Каталог рецептов**: Просматривайте рецепты по категориям или с помощью поиска.
- **Случайный рецепт**: Получайте случайный рецепт одним нажатием.
- **Личный кабинет**: Регистрация и авторизация пользователей для доступа к дополнительным функциям.

## Технологии

### Backend
- **FastAPI**: Современный веб-фреймворк для создания API с поддержкой асинхронности
- **Uvicorn**: ASGI-сервер для запуска FastAPI приложения 
- **Starlette**: Базовый фреймворк с поддержкой сессий и middleware
- **Pydantic**: Валидация данных и сериализация моделей

### Frontend
- **Jinja2**: Шаблонизатор для генерации HTML-страниц
- **HTML5/CSS3**: Разметка и стилизация страниц
- **JavaScript**: Интерактивность на стороне клиента
- **AJAX**: Асинхронные запросы к API

### База данных
- **SQLite**: Локальная файловая база данных
- **MySQL**: Опциональная поддержка для продакшена
- **Поддержка миграции**: Автоматическое создание таблиц при первом запуске

### Безопасность
- **Passlib**: Хеширование паролей с использованием bcrypt
- **SessionMiddleware**: Управление пользовательскими сессиями
- **CSRF-защита**: Токены для защиты от межсайтовой подделки запросов
- **Cookie-политика**: Настраиваемые параметры безопасности для cookie

### Дополнительные инструменты
- **Pillow**: Обработка и оптимизация изображений
- **python-dotenv**: Управление переменными окружения
- **httpx**: Асинхронный HTTP-клиент для внутренних запросов
- **logging**: Система логирования для отслеживания ошибок

## Установка и запуск

### Предварительные требования

- Python 3.8 или выше
- Git (для клонирования репозитория)

### Шаги установки

1. **Клонирование репозитория**

   ```bash
   git clone https://github.com/maria1654/gastro-ugolok.git
   cd gastro-ugolok
   ```

2. **Создание и активации виртуального окружения**

   ```bash
   python -m venv venv
   # Для Windows
   venv\Scripts\activate
   # Для Linux/MacOS
   source venv/bin/activate
   ```

3. **Установка зависимостей**

   ```bash
   pip install -r requirements.txt
   ```

4. **Настройка переменных окружения**

   Создайте файл `.env` в корневой директории и добавьте следующие переменные:

   ```ini
   # Security keys
   SESSION_SECRET_KEY=your_session_secret_key_here
   SECRET_KEY=your_secret_key_here
   ALGORITHM=HS256
   CSRF_SECRET=your_csrf_secret_here

   # data base setting
   DATABASE_URL=your_database_url_here

   # API key
   API_KEY=your_api_key_here

   # cookies and session setting
   SECURE_COOKIES=true
   SAME_SITE_POLICY=lax
   SESSION_LIFETIME=3600
   ```

   Замените соответствующие поля на ваши собственные секретные ключи.

5. **Запуск приложения**

   ```bash
   uvicorn app.main:app --reload --port 80
   ```
   Приложение будет доступно по адресу `http://127.0.0.1`.
   (в данный момент api работает только с портом 80)

## Использование

- Перейдите на `http://127.0.0.1` в вашем браузере.
- Зарегистрируйтесь или войдите в систему для доступа к личному кабинету.
- Просматривайте рецепты в каталоге или получите случайный рецепт.
- Настройте свои предпочтения по использованию файлов cookie.

## Структура проекта

```
├── .env.example            # Пример файла с переменными окружения
├── LICENCE                 # Лицензия проекта
├── README.md               # Документация проекта
├── requirements.txt        # Зависимости проекта
│
├── app/                    # Основной код приложения
│   ├── auth.py             # Аутентификация
│   ├── main.py             # Главный файл приложения
│   ├── models.py           # Модели данных
│   │
│   ├── api/                # API приложения
│   │   └── routers/        # Маршрутизаторы API
│   │
│   ├── crud/               # Операции с базой данных
│   │   ├── base.py
│   │   ├── initialization.py
│   │   ├── mysql.py
│   │   └── sqlite.py
│   │
│   └── web/                # Веб-интерфейс
│       ├── middleware.py
│       └── routers/        # Маршрутизаторы веб-интерфейса
│
├── static/                 # Статические файлы
│   ├── css/                # Стили
│   ├── fonts/              # Шрифты
│   ├── images/             # Изображения
│   ├── js/                 # JavaScript файлы
│   └── recipesbase/        # База рецептов
│
└── templates/              # HTML шаблоны
    └── account/            # Шаблоны личного кабинета
```

## Вклад в проект

Мы рады любому вкладу в развитие **Гастро-уголка**! Если у вас есть идеи по улучшению или вы нашли ошибку, пожалуйста:

1. Форкните репозиторий.
2. Создайте новую ветку для вашей функции (`git checkout -b feature/NewFeature`).
3. Сделайте коммит ваших изменений (`git commit -m 'Add some feature'`).
4. Запушьте ветку (`git push origin feature/NewFeature`).
5. Создайте Pull Request.

## Лицензия

Этот проект лицензирован под лицензией MIT — подробности см. в файле [LICENCE](LICENCE).

## Контакты

- **GitHub**: [maria1654](https://github.com/maria1654)
